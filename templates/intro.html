<!doctype html>
<html ng-app="introApp">
<head>
  <title>TravelClipper</title>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular.min.js"></script>
  <link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Raleway:300|Nunito:300">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link rel="shortcut icon" href="/static/img/globe.png">
  <style type="text/css">
    html, body {
      width: 100%;
      height: 100%;
      font-family: 'Nunito';
    }

    a:hover {
      text-decoration: none;
    }

    .items {
      width: 100%;
      height: 100%;
      overflow-y: scroll;
    }

    .item {
      width: 100%;
      height: 100%;
      position: relative;

      background-attachment: fixed;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: 50% 50%;
    }

    .item-content,
    .item-backdrop {
      width: 40%;
      height: 50%;
      position: fixed;
      top: 25%;
      left: 30%;
      pointer-events: none;
    }

    .item-backdrop {
      background-color: #fff;
      opacity: 0.8;
      border-radius: 2px;
    }

    .item-content {
      margin: auto;
    }

    .item-content-inner {
      position: relative;
      width: 100%;
      height: 100%;
      padding: 20px;
    }

    .item-2, .item-3, .item-4 {
      opacity: 0;
      display: none;
    }

    .item-header {
      text-align: center;
      position: absolute;
      width: 100%;
      margin: auto;
      top: 15%;
      color: #fff;
      font-size: 2.4em;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.75);
      -webkit-font-smoothing:antialiased;

    }

    .skip-prompt {
      position: absolute;
      width: 100%;
      text-align: center;
      margin: auto;
      top: 75%;
      margin-top: 15px;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.75);
      font-size: 1.2em;
    }

    .skip-prompt a {
      color: #fff;
    }

    .skip-prompt a:hover {
      text-decoration: underline;
    }

    .nav-controls {
      position: fixed;
      top: calc(50% - 53px);
      right: 30px;
    }

    .nav-controls .nav-item {
      margin: 10px 0;
    }

    .nav-controls .nav-circle {
      background-color: #fff;
      opacity: 0.8;
      height: 14px;
      width: 14px;
      border-radius: 7px;
      display: block;
      box-shadow: 1px 1px 2px 0px #000;
    }

    .nav-controls .nav-circle:hover {
      background-color: #ccc;
    }

    .nav-controls .nav-circle.selected {
      background-color: #4A90E2 !important;
      transition: all 0.5s;
    }

    .text-lg {
      font-size: 1.6em;
    }

    .text-md {
      font-size: 1.2em;
      color: #444444;

    }

    .center {
      text-align: center;
    }

    .text-with-icon-row {
      width: 100%;
      height: 40%;
      position: relative;
    }

    .text-with-icon-row .text-section {
      width: 75%;
      padding: 0 10px;
    }

    .text-with-icon-row .icon-section {
      width: 25%;
      text-align: center;
      position: absolute;
      top: 0;
      left: 75%;
    }

    .text-with-icon-row .icon-section .icon {
      margin: 0 20px;
    }

    .text-with-icon-row .icon-section .icon svg {
      max-width: 100%;
      max-height: 100%;
    }

    .row-spacer {
      height: 10%;
    }

    .button-panel {
      position: absolute;
      bottom: 0;
      right: 0;
      margin: 0 10px 10px 0;
      pointer-events: auto;
    }

    .btn-primary {
      border-radius: 2px;
      border: none;
      font-size: 14pt;
      padding: 10px 20px;
      background-color: #4A90E2;
    }

    .btn-primary:hover {
      background-image: -webkit-linear-gradient(top, rgba(0, 0, 0, 0.0), rgba(0, 0, 0, 0.2));
      background-image: -moz-linear-gradient(top, rgba(0, 0, 0, 0.0), rgba(0, 0, 0, 0.2));
      background-image: linear-gradient(top, rgba(0, 0, 0, 0.0), rgba(0, 0, 0, 0.2));
      background-color: transparent;  background-color: #4A90E2;
    }

    .item-1-header {
      margin-bottom: 10px;
    }

    .item-1-list {
      margin-left: 10px;
    }

    .item-1-list .list-step {
      margin-bottom: 10px;
    }

    #item-1-icon {
      margin: 50% 0;
    }
  </style>
  <script>
    function IntroCtrl($scope) {
      $scope.selectionState = {
        itemNum: 1,
        needsAutoScroll: 0
      };

      $scope.goToItem = function(itemNum) {
        $scope.selectionState.itemNum = itemNum;
        $scope.selectionState.needsAutoScroll++;
      };
    }

    function tcScrollToItemOn() {
      return {
        restrict: 'A',
        link: function(scope, element, attrs) {
          var elem = $(element);
          scope.$watch(attrs.tcScrollToItemOn, function(value) {
            if (!value) return;
            var newScrollTop = elem.height() * (scope.selectionState.itemNum - 1);
            elem.animate({scrollTop: newScrollTop}, 500);
          });
        }
      };
    }

    function tcWatchItemScrollState() {
      return {
        restict: 'A',
        link: function(scope, element, attrs) {
          var elem = $(element);
          elem.on('scroll', function() {
            var itemNum = Math.round(elem.scrollTop() / elem.height()) + 1;
            scope.selectionState.itemNum = itemNum;

            var div = elem.scrollTop() / elem.height();
            for (var i = 1; i < 5; i++) {
              var visState = div - (i - 1);
              var opacity;
              if (visState < -0.5 || visState > 0.5) {
                opacity = 0;
              } else {
                opacity = Math.pow(1 - Math.abs(visState / 0.5), 2);
              }
              $('.item-' + i).css('opacity', opacity);
              if (opacity == 0) {
                $('.item-' + i).hide();
              } else {
                $('.item-' + i).show();
              }
            }

            scope.$apply();
          });
        }
      };
    }

    angular.module('introApp', [])
      .controller('IntroCtrl', IntroCtrl)
      .directive('tcScrollToItemOn', tcScrollToItemOn)
      .directive('tcWatchItemScrollState', tcWatchItemScrollState);
  </script>
</head>
<body ng-controller="IntroCtrl">
  <div class="items" tc-scroll-to-item-on="selectionState.needsAutoScroll"
    tc-watch-item-scroll-state>
    <div class="item" style="background-image: url('https://lh6.googleusercontent.com/-hh0EGY0S1xU/UspIKgaSxkI/AAAAAAAAmKQ/eXE_TqbSc5s/w1276-h848-no/IMG_0883_4_5.jpg')">
    </div>
    <div class="item" style="background-image: url('https://lh5.googleusercontent.com/-XFHga-H4op4/UspHQuuPT3I/AAAAAAAAmKQ/tX5v3FY1kwk/w1272-h848-no/IMG_3144.jpg')">
    </div>
    <div class="item" style="background-image: url('https://lh6.googleusercontent.com/-TG_39EmMvtQ/UspLX3y_4PI/AAAAAAAAmKQ/7Qt8GMIfKik/w1531-h1148-no/Aya+Sofia_tonemapped.jpg')">
    </div>
    <div class="item" style="background-image: url('https://lh6.googleusercontent.com/-dUvax-DFq18/UspLNjkIPqI/AAAAAAAAmKQ/GiJIc25L_ac/w1531-h1148-no/IMG_5810_tonemapped.jpg')">
    </div>
  </div>

  <div class="items-content">
    <div class="item-backdrop">
    </div>
    <div class="item-1">
      <div class="item-header">
        Welcome! Let's introduce you to your trip plan
      </div>
      <div class="item-content">
        <div class="item-content-inner">
          <div class="text-lg center item-1-header">
            Use your trip plan to
          </div>
          <div class="item-1-list">
            <div class="text-with-icon-row">
              <div class="text-section">
                <div class="list-step">
                  <div class="text-lg">
                    <span class="list-num">1. Collect</span> 
                  </div>
                  <div class="text-md">
                    Get ideas by quickly adding places to your trip from top travel sites and blogs
                  </div>
                </div>
                <div class="list-step">
                  <div class="text-lg">
                    <span class="list-num">2. Decide</span>
                  </div>
                  <div class="text-md">
                    View your map, browse photos, and compare places to build an itinerary
                    of the best places to visit
                  </div>
                </div>
                <div class="list-step">
                  <div class="text-lg">
                    <span class="list-num">3. Travel</span>
                  </div>
                  <div class="text-md">
                    Bring your finished plan with you on your iPhone or Android mobile phone or tablet
                  </div>
                </div>
              </div>
              <div class="icon-section">
                <div ng-include="'plan-icon'" class="icon" id="item-1-icon"></div>
              </div>
            </div>
          </div>
          <div class="button-panel">
            <button class="btn btn-primary" ng-click="goToItem(2)">
              Go to Step 1
            </button>
          </div>
        </div>
      </div>
      <div class="skip-prompt">
        <a href="/trip_plan">
          Want to jump right in? Skip this tutorial
        </a>
      </div>
    </div>
    <div class="item-2">
      <div class="item-header">
        Add attractions, dining, and lodging to your trip plan
      </div>
      <div class="item-content">
        <div class="item-content-inner">
          <div class="text-with-icon-row">
            <div class="text-section">
              <div class="text-lg">
                Create a map without the effort
              </div>
              <div class="text-md">
                Add places in a single click, even while browsing other websites
              </div>
            </div>
            <div class="icon-section">
              <div ng-include="'map-icon'" class="icon"></div>
            </div>
          </div>
          <div class="row-spacer"></div>
          <div class="text-with-icon-row">
            <div class="text-section">
              <div class="text-lg">
                View photos and read about your&nbsp;places
              </div>
              <div class="text-md">
                We grab photos and descriptions from trusted sources so you don't have to
              </div>
            </div>
            <div class="icon-section">
              <div ng-include="'picture-icon'" class="icon"></div>
            </div>
          </div>
          <div class="button-panel">
            <button class="btn btn-primary" ng-click="goToItem(3)">
              Go to Step 2
            </button>
          </div>
        </div>
      </div>
      <div class="skip-prompt">
        <a href="/trip_plan">
          Want to jump right in? Skip this tutorial
        </a>
      </div>
    </div>
    <div class="item-3">
      <div class="item-header">
        Have fun organizing your trip
      </div>

      <div class="item-content">
        <div class="item-content-inner">
          <div class="text-with-icon-row">
            <div class="text-section">
              <div class="text-lg">
                Plan your schedule
              </div>
              <div class="text-md">
                Want a day-by-day itinerary? That's easy.
                <br/>
                Just want a short list of places to see?  That's even easier.
              </div>
            </div>
            <div class="icon-section">
              <div ng-include="'calendar-icon'" class="icon"></div>
            </div>
          </div>
          <div class="row-spacer"></div>
          <div class="text-with-icon-row">
            <div class="text-section">
              <div class="text-lg">
                Work together to build the perfect&nbsp;trip
              </div>
              <div class="text-md">
                View and comment on places added by other people traveling with you
              </div>
            </div>
            <div class="icon-section">
              <div ng-include="'group-icon'" class="icon"></div>
            </div>
          </div>
          <div class="button-panel">
            <button class="btn btn-primary" ng-click="goToItem(4)">
              Go to Step 3
            </button>
          </div>
        </div>
      </div>
      <div class="skip-prompt">
        <a href="/trip_plan">
          Want to jump right in? Skip this tutorial
        </a>
      </div>
    </div>
    <div class="item-4">
      <div class="item-header">
        Travel with your Mobile Trip Plan
      </div>
      <div class="item-content">
        <div class="item-content-inner">
          <div class="text-with-icon-row">
            <div class="text-section">
              <div class="text-lg">
                Use your map to find your way
              </div>
              <div class="text-md">
                It even works on your phone without an international data plan.
                No more awkwardly asking for directions.
              </div>
            </div>
            <div class="icon-section">
              <div ng-include="'map-2-icon'" class="icon"></div>
            </div>
          </div>
          <div class="row-spacer"></div>
          <div class="text-with-icon-row">
            <div class="text-section">
              <div class="text-lg">
                Look up important information
              </div>
              <div class="text-md">
                Have phone numbers, addresses, and hours of operation at your fingertips
              </div>
            </div>
            <div class="icon-section">
              <div ng-include="'info-icon'" class="icon"></div>
            </div>
          </div>
          <div class="button-panel">
            <a href="/trip_plan">
              <button class="btn btn-primary">
                Plan My Trip
              </button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="nav-controls">
    <div class="nav-item" ng-repeat="itemNum in [1, 2, 3, 4]">
      <a ng-click="goToItem(itemNum)" href="javscript:void(0)">
        <span class="nav-circle" ng-class="{'selected': itemNum == selectionState.itemNum}"></span>
      </a>
    </div>
  </div>

  {% include 'intro_icons.html' %}
</body>
</html>
